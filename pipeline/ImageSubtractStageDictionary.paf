#<?cfg paf policy ?>
# Default Image Subtraction Policy File

######
# Write intermediate FITS files? (boolean)
debugIO: false
debugPlot: false

# Testing for spatial kernel model
spatialKernelTesting: true
spatialKernelRejection: true

######
# Size of the convolution kernel
kernelRows: 19
kernelCols: 19

######
# Order of kernel spatial variation
kernelSpatialOrder: 1

######
# Order of background spatial variation
backgroundSpatialOrder: 1

######
# Chops up the image into cells
#
#   segmentMaskedImage:
#
nSegmentCol: 10
nSegmentRow: 10
iterateKernel: true

######
# Rejects objects with deviant Kernel Sums
#
#   rejectKernelOutliers:
#
maxOutlierIterations: 5
maxOutlierSigma: 3.0

######
# Rejects objects with bad difference image quality
#
#   DifferenceImageStatistics.evaluateQuality
#

# Maximum average of (residual/noise) for an acceptable Kernel; mean should be 0
maximumFootprintResidualMean: 1.0

# Maximum standard deviation of (residual/noise) for an acceptable Kernel; variance should be 1
maximumFootprintResidualStd: 2.0 

######
# Uses detection to find good objects for difference imaging
#
#   getCollectionOfFootprintsForPsfMatching
#

# Minimum number of pixels in an acceptible Footprint
footprintDiffimNpixMin: 9

# Maximum number of pixels in an acceptible Footprint
footprintDiffimNpixMax: 500

# Grow footprint by this many pixels
footprintDiffimGrow: 20

# Maximum number of pixels in a Footprint, after growing
footprintDiffimNpixAfterGrowMax: 3000

# Minimum number of clean candidates
minimumCleanFootprints: 10

# Threshold in sigma now
footprintDetectionThresholdSigma: 20.0

# How do you change the detection threshold if minimumCleanFootprints not found
# Make this shallow now for testing; don't want to get too many objects...
detectionThresholdScalingSigma: 5.0

# How low can you go
minimumDetectionThresholdSigma: 5.0

# Back compatibility for signal based vs. sigma based detection
footprintDetectionThreshold: 1000.0
detectionThresholdScaling: 0.50
minimumDetectionThreshold: 125.0

######
# Controls MINUIT fitting
#
#   fitFunction
#

# (How many sigma)**2 the errors correspond to
nSigmaSq : 1.0

# Controls stepsize when initializing parameters
stepsize : 0.1

######
# Controls Clipping out of Bad Kernel
#
#   
#

# How many iterations until you move on
maxSpatialIterations: 1
